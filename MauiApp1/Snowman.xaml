<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="MauiApp1.Snowman"
    Title="Snowman"
    BackgroundImageSource="day.jpg">

    <!-- —Ü–≤–µ—Ç —à—Ä–∏—Ñ—Ç–∞ –ø—Ä–∏ —Ä–µ–∂–∏–º–µ –¥–µ–Ω—å\–Ω–æ—á—å -->
    <ContentPage.Resources>
         <Color x:Key="PrimaryTextColor">Black</Color>

        <Style TargetType="Label">
            <Setter Property="TextColor" Value="{DynamicResource PrimaryTextColor}" />
        </Style>

        <Style TargetType="Picker">
            <Setter Property="TextColor" Value="{DynamicResource PrimaryTextColor}" />
            <Setter Property="TitleColor" Value="{DynamicResource PrimaryTextColor}" />
        </Style>
    </ContentPage.Resources>

    <Grid>

        <AbsoluteLayout x:Name="SnowLayer"
                        InputTransparent="True"
                        HorizontalOptions="FillAndExpand"
                        VerticalOptions="FillAndExpand"
                        ZIndex="0"/>
        <ScrollView>
            <VerticalStackLayout Padding="16,12" Spacing="14">

                
                <!-- –î–µ–Ω—å/–ù–æ—á—å/–°–Ω–µ–≥ -->
                <Grid Margin="0,4,0,8" ColumnSpacing="12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <Label  Grid.Column="0" Text="üåû –î–µ–Ω—å" VerticalOptions="Center" FontSize="15"/>
                    <Switch Grid.Column="1" x:Name="DayNightSwitch" Toggled="DayNightSwitch_Toggled"/>
                    <Label  Grid.Column="2" Text="üåô –ù–æ—á—å" VerticalOptions="Center" FontSize="15"/>

                    <Label  Grid.Column="4" Text="‚ùÑÔ∏è –°–Ω–µ–≥" VerticalOptions="Center" FontSize="15"/>
                    <Switch Grid.Column="5" x:Name="SnowSwitch" Toggled="SnowSwitch_Toggled"/>
                </Grid>

                <!-- –ö–Ω–æ–ø–∫–∞ –º—É–∑—ã–∫–∏ -->
                <Button x:Name="MusicButton"
                        Text="‚ñ∂Ô∏è –ú—É–∑—ã–∫–∞"
                        Padding="18,10"
                        Clicked="MusicButton_Clicked"/>

                <!-- –°–∫–æ—Ä–æ—Å—Ç—å -->
                <Grid ColumnSpacing="10" RowSpacing="0" Margin="0,6,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <Label Text="–°–∫–æ—Ä–æ—Å—Ç—å:" VerticalOptions="Center" FontSize="15"/>
                    <Slider x:Name="SpeedSlider" Grid.Column="1"
                            Minimum="200" Maximum="3000"
                            ValueChanged="SpeedSlider_ValueChanged"/>
                    <Label x:Name="SpeedValueLabel" Grid.Column="2"
                           Text="800 –º—Å" VerticalOptions="Center" />
                </Grid>

                <!-- –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å -->
                <Grid ColumnSpacing="10" RowSpacing="0" Margin="0,6,0,8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <Label Text="–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å:" VerticalOptions="Center" FontSize="15"/>
                    <Slider x:Name="OpacitySlider" Grid.Column="1"
                            Minimum="0.1" Maximum="1" Value="1"
                            ValueChanged="OpacitySlider_ValueChanged"/>
                    <Label x:Name="OpacityValueLabel" Grid.Column="2"
                           Text="100%" VerticalOptions="Center"/>
                </Grid>

                <!-- –ú–µ–Ω—é –¥–µ–π—Å—Ç–≤–∏–π -->
                <Grid ColumnSpacing="10" Margin="0,6,0,8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <Label x:Name="ActionLabel"
                    Grid.Column="0"
                    Text="–î–µ–π—Å—Ç–≤–∏–µ:"
                    VerticalOptions="Center"
                    FontSize="15"/>

                    <Picker x:Name="ActionPicker"
                    Grid.Column="1"
                    Title="–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ"
                    HorizontalOptions="FillAndExpand">
                        <Picker.Items>
                        <x:String>–°–∫—Ä—ã—Ç—å</x:String>
                        <x:String>–ü–æ–∫–∞–∑–∞—Ç—å</x:String>
                        <x:String>–ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç</x:String>
                        <x:String>–†–∞—Å—Ç–æ–ø–∏—Ç—å</x:String>
                        <x:String>–¢–∞–Ω—Ü–µ–≤–∞—Ç—å</x:String>
                        </Picker.Items>
                        </Picker>

                    <Button Grid.Column="2"
                    x:Name="RunBtn"
                    Text="–í—ã–ø–æ–ª–Ω–∏—Ç—å"
                    FontSize="14"
                    Padding="12,8"
                    CornerRadius="12"
                    WidthRequest="120"
                    HeightRequest="36"
                    VerticalOptions="Center"
                    Clicked="RunBtn_Clicked"/>
                </Grid>


                <!-- –°–ù–ï–ì–û–í–ò–ö -->
                <Grid x:Name="SnowmanGroup"
                      WidthRequest="220"
                      HeightRequest="300"
                      HorizontalOptions="Center"
                      VerticalOptions="EndAndExpand"
                      TranslationY="100"  
                      Margin="0,6,0,6"
                      IsClippedToBounds="False">

                    <!-- –ù–∏–∑ -->
                    <Ellipse x:Name="BottomCircle"
                             WidthRequest="150" HeightRequest="150"
                             Fill="White"
                             VerticalOptions="End" />

                    <!-- –°–µ—Ä–µ–¥–∏–Ω–∞ -->
                    <Ellipse x:Name="MiddleCircle"
                             WidthRequest="110" HeightRequest="110"
                             Fill="White"
                             VerticalOptions="Center"
                             TranslationY="-30"/>

                    <!-- –í–µ–¥—Ä–æ -->
                    <Image x:Name="Bucket"
                           Source="bucket.png"
                           WidthRequest="150"
                           HeightRequest="120"
                           Opacity="1"
                           TranslationY="-142"
                           TranslationX="-10" 
                           Rotation="-20"
                           HorizontalOptions="Center" />

                    <!-- –ì–æ–ª–æ–≤–∞ -->
                    <Ellipse x:Name="HeadCircle"
                             WidthRequest="70" HeightRequest="70"
                             Fill="White"
                             VerticalOptions="Start"
                             TranslationY="10"/>


                    <!-- –ì–ª–∞–∑–∞ -->
                    <Ellipse WidthRequest="8" HeightRequest="8" Fill="Black"
                             HorizontalOptions="Center" TranslationX="-10" TranslationY="-110"/>
                    <Ellipse WidthRequest="8" HeightRequest="8" Fill="Black"
                             HorizontalOptions="Center" TranslationX="10" TranslationY="-110"/>

                    <!-- –†–æ—Ç -->
                    <Ellipse WidthRequest="5" HeightRequest="5" Fill="Black"
                             HorizontalOptions="Center" TranslationX="-12" TranslationY="-90"/>
                    <Ellipse WidthRequest="5" HeightRequest="5" Fill="Black"
                             HorizontalOptions="Center" TranslationX="-6" TranslationY="-86"/>
                    <Ellipse WidthRequest="5" HeightRequest="5" Fill="Black"
                             HorizontalOptions="Center" TranslationY="-85"/>
                    <Ellipse WidthRequest="5" HeightRequest="5" Fill="Black"
                             HorizontalOptions="Center" TranslationX="6" TranslationY="-86"/>
                    <Ellipse WidthRequest="5" HeightRequest="5" Fill="Black"
                             HorizontalOptions="Center" TranslationX="12" TranslationY="-90"/>

                    <!-- –ü—É–≥–æ–≤–∏—Ü—ã -->
                    <Ellipse WidthRequest="8" HeightRequest="8" Fill="Black"
                             HorizontalOptions="Center" TranslationY="-45"/>
                    <Ellipse WidthRequest="8" HeightRequest="8" Fill="Black"
                             HorizontalOptions="Center" TranslationY="-30"/>
                    <Ellipse WidthRequest="8" HeightRequest="8" Fill="Black"
                             HorizontalOptions="Center" TranslationY="-15"/>

                    <!-- –†—É–∫–∏ -->
                    <Line X1="0"  Y1="0"  X2="60" Y2="-20"
                          Stroke="Brown" StrokeThickness="4"
                          TranslationX="-5" TranslationY="125" 
                          ZIndex="10"/>
                    <Line X1="0"  Y1="0"  X2="-60" Y2="-20"
                          Stroke="Brown" StrokeThickness="4"
                          TranslationX="220" TranslationY="125" 
                          ZIndex="10"/>
                </Grid>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
